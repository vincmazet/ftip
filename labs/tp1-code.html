

<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>07/10/2020 &#8212; Fundamental Tools for Image Processing</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css" integrity="sha384-KA6wR/X5RY4zFAHpv/CnoG2UW1uogYfdnP67Uv7eULvTveboZJg0qUpmJZb5VqzN" crossorigin="anonymous">
    <link href="../_static/css/index.css" rel="stylesheet">
    <link rel="stylesheet" href="../_static/sphinx-book-theme.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/jbvinc.css" />
    <link rel="stylesheet" type="text/css" href="../_static/.ipynb_checkpoints/jbvinc-checkpoint.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-dropdown.css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/sphinx-book-theme.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["\\(", "\\)"]], "displayMath": [["\\[", "\\]"]], "processRefs": false, "processEnvironments": false}})</script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Installing and Using Python" href="../python.html" />
    <link rel="prev" title="07/10/2020" href="../tp1.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="docsearch:language" content="en">



  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
<a class="navbar-brand text-wrap" href="../index.html">
  
  
  <h1 class="site-logo" id="site-title">Fundamental Tools for Image Processing</h1>
  
</a>
</div>

<form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form>

<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../preface.html">
   Preface
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Courses
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../definition.html">
   What is a Digital Image?
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../operations.html">
   Arithmetic Operations
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../histogram.html">
   Histogram
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../convolution.html">
   Convolution
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../fourier.html">
   Fourier Transform
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../compression.html">
   Compression
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../mm.html">
   Mathematical Morphology
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../interpolation.html">
   Interpolation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../registration.html">
   Registration
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../segmentation.html">
   Segmentation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../deconvolution.html">
   Deconvolution
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../denoising.html">
   Denoising
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../xxx_pattern.html">
   (Pattern &amp; Co)
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  In-Class Sessions
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../tp1.html">
   07/10/2020
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Corrections
 </span>
</p>
<ul class="current nav sidenav_l1">
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   07/10/2020
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Appendices
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference external" href="https://moodle3.unistra.fr/course/view.php?id=13708">
   Moodle
   <i class="fas fa-external-link-alt">
   </i>
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../python.html">
   Installing and Using Python
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../glossary.html">
   Glossary
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../biblio.html">
   References
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../license.html">
   License
  </a>
 </li>
</ul>

</nav>

 <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="row topbar fixed-top container-xl">
    <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show">
    </div>
    <div class="col pl-2 topbar-main">
        
        <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
            data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
            aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
            title="Toggle navigation" data-toggle="tooltip" data-placement="left">
            <i class="fas fa-bars"></i>
            <i class="fas fa-arrow-left"></i>
            <i class="fas fa-arrow-up"></i>
        </button>
        
        <div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    
    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/labs/tp1-code.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
    
</div>
        <!-- Source interaction buttons -->


        <!-- Full screen (wrap in <a> to have style consistency -->
        <a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
                data-placement="bottom" onclick="toggleFullScreen()" title="Fullscreen mode"><i
                    class="fas fa-expand"></i></button></a>

        <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        
        
        <a class="colab-button" href="https://colab.research.google.com/github/vincmazet/ftip/blob/master/labs/tp1-code.ipynb"><button type="button" class="btn btn-secondary topbarbtn"
                title="Launch Colab" data-toggle="tooltip" data-placement="left"><img class="colab-button-logo"
                    src="../_static/images/logo_colab.png"
                    alt="Interact on Colab">Colab</button></a>
        
        
    </div>
</div>

    </div>

    <!-- Table of contents -->
    <div class="d-none d-md-block col-md-2 bd-toc show">
        <div class="tocsection onthispage pt-5 pb-3">
            <i class="fas fa-list"></i> Contents
        </div>
        <nav id="bd-toc-nav">
            <ul class="nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#getting-started">
   Getting started
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#objectives">
     Objectives
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#code-cells">
     Code cells
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#markdown-cell">
     Markdown cell
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#display-a-saved-image">
   Display a saved image
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id2">
     Objectives
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#modules">
     Modules
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#display-the-color-image">
     Display the color image
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#conversion-to-grayscale">
     Conversion to grayscale
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#brightness-profile">
     Brightness profile
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#create-a-simple-image">
   Create a simple image
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id3">
     Objectives
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#image-synthesis">
     Image synthesis
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#setting-the-intensity-range">
   Setting the intensity range
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id4">
     Objectives
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#display-the-image">
     Display the image
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#choose-a-better-colormap">
     Choose a better colormap
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#segmentation-by-histogram-thresholding">
   Segmentation by histogram thresholding
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id5">
     Objectives
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#image-histogram">
     Image histogram
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#segmentation-in-2-classes">
     Segmentation in 2 classes
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#segmentation-in-3-classes">
     Segmentation in 3 classes
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#contrast-enhancement">
   Contrast enhancement
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#objective">
     Objective
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#multiplication-by-a-real">
     Multiplication by a real
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#histogram-equalization">
     Histogram equalization
    </a>
   </li>
  </ul>
 </li>
</ul>

        </nav>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="id1">
<h1>07/10/2020<a class="headerlink" href="#id1" title="Permalink to this headline">¬∂</a></h1>
<div class="section" id="getting-started">
<h2>Getting started<a class="headerlink" href="#getting-started" title="Permalink to this headline">¬∂</a></h2>
<div class="section" id="objectives">
<h3>Objectives<a class="headerlink" href="#objectives" title="Permalink to this headline">¬∂</a></h3>
<ul class="simple">
<li><p>discover and know how to write a Python program</p></li>
<li><p>discover and know how to use a notebook</p></li>
<li><p>manipulate variables</p></li>
</ul>
</div>
<div class="section" id="code-cells">
<h3>Code cells<a class="headerlink" href="#code-cells" title="Permalink to this headline">¬∂</a></h3>
<ul class="simple">
<li><p>The two cells containing codes should be:</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="mi">40</span> <span class="o">+</span> <span class="mi">2</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>42
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">year</span> <span class="o">=</span> <span class="mi">2020</span>
<span class="n">course</span> <span class="o">=</span> <span class="s2">&quot;FTIP&quot;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">course</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">year</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>FTIP 2020
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="markdown-cell">
<h3>Markdown cell<a class="headerlink" href="#markdown-cell" title="Permalink to this headline">¬∂</a></h3>
<p>The markdown code</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>  Write **bold**, _italic_ or equations: $\sqrt{2}$.
</pre></div>
</div>
<p>produces:</p>
<hr class="docutils" />
<p>Write <strong>bold</strong>, <em>italic</em> or equations: <span class="math notranslate nohighlight">\(\sqrt{2}\)</span>.</p>
</div>
</div>
<hr class="docutils" />
<div class="section" id="display-a-saved-image">
<h2>Display a saved image<a class="headerlink" href="#display-a-saved-image" title="Permalink to this headline">¬∂</a></h2>
<div class="section" id="id2">
<h3>Objectives<a class="headerlink" href="#id2" title="Permalink to this headline">¬∂</a></h3>
<ul class="simple">
<li><p>use functions and modules</p></li>
<li><p>know how to load and display an image, and use a colormap</p></li>
<li><p>display the size of an image</p></li>
<li><p>convert an image to grayscale</p></li>
<li><p>understand that an image is also a 2D signal</p></li>
</ul>
</div>
<div class="section" id="modules">
<h3>Modules<a class="headerlink" href="#modules" title="Permalink to this headline">¬∂</a></h3>
<p>The use of the function <code class="docutils literal notranslate"><span class="pre">ccc</span></code> available in the submodule <code class="docutils literal notranslate"><span class="pre">bbb</span></code> of the module <code class="docutils literal notranslate"><span class="pre">aaa</span></code> writes <code class="docutils literal notranslate"><span class="pre">aaa.bbb.ccc</span></code>.
I am sure you agree this is a bit long to write, that is why we usually rename the submodule to something shorter.
Thus, the following instructions rename <code class="docutils literal notranslate"><span class="pre">skimage.io</span></code> to<code class="docutils literal notranslate"> <span class="pre">io</span></code>, and <code class="docutils literal notranslate"><span class="pre">matplotlib.pyplot</span></code> to<code class="docutils literal notranslate"> <span class="pre">plt</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">skimage.io</span> <span class="k">as</span> <span class="nn">io</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
</pre></div>
</div>
</div>
</div>
<p>The three modules used in this course are:</p>
<ul class="simple">
<li><p><a class="reference external" href="http://www.numpy.org/">Numpy</a> (scientific programming),</p></li>
<li><p><a class="reference external" href="https://scikit-image.org/">Scikit-image</a> (image processing),</p></li>
<li><p><a class="reference external" href="https://matplotlib.org/">Matplotlib</a> (display).</p></li>
</ul>
<p>Refer to the documentation on these websites to get the syntax of the functions.</p>
</div>
<div class="section" id="display-the-color-image">
<h3>Display the color image<a class="headerlink" href="#display-the-color-image" title="Permalink to this headline">¬∂</a></h3>
<p>Now you can load the image mandrill.tiff (I load it directly from the website):</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">=</span> <span class="n">io</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="s2">&quot;http://sipi.usc.edu/database/download.php?vol=misc&amp;img=4.2.03&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>and display it (I take this opportunity to add a title):</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Mandrill&#39;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/tp1-code_13_0.png" src="../_images/tp1-code_13_0.png" />
</div>
</div>
<p>The image dimensions can be read on the displayed image: a little more than 500 pixels per side, and 3 bands since the image is in color.
A more precise alternative is to use the <code class="docutils literal notranslate"><span class="pre">shape</span></code> function:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(512, 512, 3)
</pre></div>
</div>
</div>
</div>
<p>So the image if of size 512 √ó 512, with 3 bands.</p>
</div>
<div class="section" id="conversion-to-grayscale">
<h3>Conversion to grayscale<a class="headerlink" href="#conversion-to-grayscale" title="Permalink to this headline">¬∂</a></h3>
<p>We need to import a new module (I am doing this at this point, but it is recommended to import all modules at the beginning of the notebook).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">skimage.color</span> <span class="k">as</span> <span class="nn">color</span>

<span class="n">g</span> <span class="o">=</span> <span class="n">color</span><span class="o">.</span><span class="n">rgb2gray</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Mandrill (grayscale)&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Text(0.5, 1.0, &#39;Mandrill (grayscale)&#39;)
</pre></div>
</div>
<img alt="../_images/tp1-code_18_1.png" src="../_images/tp1-code_18_1.png" />
</div>
</div>
<p>What‚Äôs that weird grayscale image? It‚Äôs rather green‚Ä¶ üò≤</p>
<p>Actually, this does be a grayscale image (the image has only one band).
But the default colormap with <code class="docutils literal notranslate"><span class="pre">imshow</span></code> is a gradient of blue and green.
To display it in real gray levels, you must specify the option <code class="docutils literal notranslate"><span class="pre">cmap</span></code> in<code class="docutils literal notranslate"> <span class="pre">imshow</span></code>.
A large number of palettes are available see. <a class="reference external" href="https://matplotlib.org/examples/color/colormaps_reference.html">catalog</a>);
here we choose the classic <code class="docutils literal notranslate"><span class="pre">gray</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s2">&quot;gray&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Mandrill (grayscale)&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Text(0.5, 1.0, &#39;Mandrill (grayscale)&#39;)
</pre></div>
</div>
<img alt="../_images/tp1-code_20_1.png" src="../_images/tp1-code_20_1.png" />
</div>
</div>
<p>Phew! üòÖ</p>
<p>The grayscale image has intensities in this range:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Min : &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">g</span><span class="o">.</span><span class="n">min</span><span class="p">()))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Max : &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">g</span><span class="o">.</span><span class="n">max</span><span class="p">()))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Min : 0.0
Max : 0.9116803921568628
</pre></div>
</div>
</div>
</div>
<p>One can also redefine the range of colors by specifying the intensities corresponding to black (<code class="docutils literal notranslate"><span class="pre">vmin</span></code>) and white (<code class="docutils literal notranslate"> <span class="pre">vmax</span></code>):</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="n">vmin</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">vmax</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s2">&quot;gray&quot;</span><span class="p">);</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Intensity range = [0.0, 0.5]&quot;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/tp1-code_24_0.png" src="../_images/tp1-code_24_0.png" />
</div>
</div>
</div>
<div class="section" id="brightness-profile">
<h3>Brightness profile<a class="headerlink" href="#brightness-profile" title="Permalink to this headline">¬∂</a></h3>
<p>I choose a horizontal cut on the 200<sup>th</sup> line of the image:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">cut</span> <span class="o">=</span> <span class="mi">200</span>          <span class="c1"># Cut location</span>
<span class="n">profil</span> <span class="o">=</span> <span class="n">g</span><span class="p">[</span><span class="n">cut</span><span class="p">,:]</span>  <span class="c1"># Extract all the pixels of the row &#39;cut&#39; in the image g</span>
</pre></div>
</div>
</div>
</div>
<p>Now we can display the brightness profile‚Ä¶</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>           <span class="c1"># New figure with specific display size</span>

<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>                   <span class="c1"># Plot on the left</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">profil</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">)</span>                 <span class="c1"># Brightness profile</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Brightness profile&quot;</span><span class="p">)</span>      <span class="c1"># Title</span>

<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>                   <span class="c1"># Image on the right</span>
<span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s2">&quot;gray&quot;</span><span class="p">)</span>           <span class="c1"># Image</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span><span class="mi">511</span><span class="p">),</span> <span class="p">(</span><span class="n">cut</span><span class="p">,</span><span class="n">cut</span><span class="p">),</span> <span class="s1">&#39;b&#39;</span><span class="p">)</span>    <span class="c1"># Cut line in blue</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Mandrill&quot;</span><span class="p">)</span>                <span class="c1"># Title</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Text(0.5, 1.0, &#39;Mandrill&#39;)
</pre></div>
</div>
<img alt="../_images/tp1-code_28_1.png" src="../_images/tp1-code_28_1.png" />
</div>
</div>
<p>Do you see on the profile the Mandrill‚Äôs nose and the protruding ridges on its sides?</p>
</div>
</div>
<div class="section" id="create-a-simple-image">
<h2>Create a simple image<a class="headerlink" href="#create-a-simple-image" title="Permalink to this headline">¬∂</a></h2>
<div class="section" id="id3">
<h3>Objectives<a class="headerlink" href="#id3" title="Permalink to this headline">¬∂</a></h3>
<ul class="simple">
<li><p>synthesize an RGB image (and know, for example, that yellow = green + red)</p></li>
<li><p>manipulate the value / color correspondence</p></li>
<li><p>use the <code class="docutils literal notranslate"><span class="pre">:</span></code> operator</p></li>
</ul>
</div>
<div class="section" id="image-synthesis">
<h3>Image synthesis<a class="headerlink" href="#image-synthesis" title="Permalink to this headline">¬∂</a></h3>
<p>As usual, do not forget the modules:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
</pre></div>
</div>
</div>
</div>
<p>The image is composed of blocks of homogeneous color with size 20 √ó 20 pixels, so as to form an image of 40 √ó 80 pixels.
Also, it contains three bands as it is an RGB image.
Therefore we create an array <code class="docutils literal notranslate"><span class="pre">f</span></code> of size 40 √ó 80 √ó 3:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">40</span><span class="p">,</span><span class="mi">80</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<p>We use <a class="reference external" href="https://en.wikipedia.org/wiki/Additive_color">Additive color</a> to create the colors.
Thus, yellow is obtained by combining green and red.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">f</span><span class="p">[</span> <span class="mi">0</span><span class="p">:</span><span class="mi">20</span> <span class="p">,</span>   <span class="p">:</span>   <span class="p">,</span> <span class="mi">0</span> <span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>   <span class="c1"># Red band (top row:: pixels 0 to 19)</span>
<span class="n">f</span><span class="p">[</span>  <span class="p">:</span>   <span class="p">,</span>  <span class="mi">0</span><span class="p">:</span><span class="mi">40</span> <span class="p">,</span> <span class="mi">1</span> <span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>   <span class="c1"># Green band (the two columns on the left)</span>
<span class="n">f</span><span class="p">[</span>  <span class="p">:</span>   <span class="p">,</span> <span class="mi">20</span><span class="p">:</span><span class="mi">60</span> <span class="p">,</span> <span class="mi">2</span> <span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>   <span class="c1"># Blue band (the two columns at the center)</span>
</pre></div>
</div>
</div>
</div>
<p>The bands can be displayed separately:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="mi">7</span><span class="p">))</span>

<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">f</span><span class="p">[:,:,</span><span class="mi">0</span><span class="p">],</span> <span class="n">cmap</span><span class="o">=</span><span class="s2">&quot;gray&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Red band&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">f</span><span class="p">[:,:,</span><span class="mi">1</span><span class="p">],</span> <span class="n">cmap</span><span class="o">=</span><span class="s2">&quot;gray&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Green band&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">f</span><span class="p">[:,:,</span><span class="mi">2</span><span class="p">],</span> <span class="n">cmap</span><span class="o">=</span><span class="s2">&quot;gray&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Blue band&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Text(0.5, 1.0, &#39;Blue band&#39;)
</pre></div>
</div>
<img alt="../_images/tp1-code_39_1.png" src="../_images/tp1-code_39_1.png" />
</div>
</div>
<p>And finally the color image:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.image.AxesImage at 0x7faa504fc978&gt;
</pre></div>
</div>
<img alt="../_images/tp1-code_41_1.png" src="../_images/tp1-code_41_1.png" />
</div>
</div>
</div>
</div>
<div class="section" id="setting-the-intensity-range">
<h2>Setting the intensity range<a class="headerlink" href="#setting-the-intensity-range" title="Permalink to this headline">¬∂</a></h2>
<div class="section" id="id4">
<h3>Objectives<a class="headerlink" href="#id4" title="Permalink to this headline">¬∂</a></h3>
<ul class="simple">
<li><p>be aware of the need for a good colormap</p></li>
<li><p>know how to adjust the colormap to display the objects of interest</p></li>
</ul>
<div class="cell tag_remove-input docutils container">
</div>
</div>
<div class="section" id="display-the-image">
<h3>Display the image<a class="headerlink" href="#display-the-image" title="Permalink to this headline">¬∂</a></h3>
<p>Load and display the image:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">=</span> <span class="n">io</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="s2">&quot;hdfs.tiff&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s2">&quot;gray&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.image.AxesImage at 0x7faa50ee3e48&gt;
</pre></div>
</div>
<img alt="../_images/tp1-code_45_1.png" src="../_images/tp1-code_45_1.png" />
</div>
</div>
<p>This image corresponds to a portion of the sky in the southern hemisphere called the <a class="reference external" href="http://muse-vlt.eu/science/hdfs-v1-0/"><em>Hubble Deep Field South</em></a>. It comes from the <a class="reference external" href="http://muse-vlt.eu/science/">MUSE sensor</a> installed on the VLT in Chile. It is obtained by averaging around 4000 bands of the original image: we speak of a hyperspectral image. (Source: <a class="reference external" href="https://www.aanda.org/articles/aa/abs/2015/03/aa25419-14/aa25419-14.html">Bacon et al., ‚ÄúThe MUSE 3D view of the Hubble Deep Field South‚Äù, <em>Astronomy &amp; Astrophysics</em>, 2015</a>).</p>
<p>You can see just a small star, however there are many other objects. Because these objects are very distant, they are very faint. In astronomy, as in many other science fields, the pixel intensity is not limited to 256 values. In this case, the intensities lie over the range given below:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Mininmal intensity: </span><span class="si">%d</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">f</span><span class="o">.</span><span class="n">min</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Maximal intensity: </span><span class="si">%d</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">f</span><span class="o">.</span><span class="n">max</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Mininmal intensity: 625722
Maximal intensity: 628454834
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="choose-a-better-colormap">
<h3>Choose a better colormap<a class="headerlink" href="#choose-a-better-colormap" title="Permalink to this headline">¬∂</a></h3>
<p>Therefore, to observe the other objects, we will adjust the colormap so that the gray levels will lie between <code class="docutils literal notranslate"><span class="pre">vmin</span></code> and <code class="docutils literal notranslate"><span class="pre">vmax</span></code>.
Intensities less than <code class="docutils literal notranslate"><span class="pre">vmin</span></code> will be displayed in black, and those greater than <code class="docutils literal notranslate"><span class="pre">vmax</span></code> will be in white.
It‚Äôs up to you to find these values to get an image like the one below, where other stars and galaxies are clearly visible
(and the brightest star is saturated).</p>
<div class="cell tag_remove-input docutils container">
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.image.AxesImage at 0x7faa502d5fd0&gt;
</pre></div>
</div>
<img alt="../_images/tp1-code_50_1.png" src="../_images/tp1-code_50_1.png" />
</div>
</div>
<p>Another possibility is to use colors to increase the dynamics of the intensities observed. The <code class="docutils literal notranslate"><span class="pre">jet</span></code> colormap is used in the example below, with the the same <code class="docutils literal notranslate"><span class="pre">vmin</span></code> and <code class="docutils literal notranslate"><span class="pre">vmax</span></code> as before. We observe a few more objects.</p>
<div class="cell tag_remove-input docutils container">
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.image.AxesImage at 0x7faa50235e80&gt;
</pre></div>
</div>
<img alt="../_images/tp1-code_52_1.png" src="../_images/tp1-code_52_1.png" />
</div>
</div>
</div>
</div>
<div class="section" id="segmentation-by-histogram-thresholding">
<h2>Segmentation by histogram thresholding<a class="headerlink" href="#segmentation-by-histogram-thresholding" title="Permalink to this headline">¬∂</a></h2>
<div class="section" id="id5">
<h3>Objectives<a class="headerlink" href="#id5" title="Permalink to this headline">¬∂</a></h3>
<ul class="simple">
<li><p>display and manipulate a histogram</p></li>
<li><p>define a threshold from a histogram</p></li>
</ul>
</div>
<div class="section" id="image-histogram">
<h3>Image histogram<a class="headerlink" href="#image-histogram" title="Permalink to this headline">¬∂</a></h3>
<div class="cell tag_remove-input docutils container">
</div>
<div class="cell tag_remove-input docutils container">
<div class="cell_output docutils container">
<img alt="../_images/tp1-code_56_0.png" src="../_images/tp1-code_56_0.png" />
</div>
</div>
<p>The histogram is obtained with <code class="docutils literal notranslate"><span class="pre">matplotlib.pyplot.hist</span></code>.
As this function calculates the image from a vector, it must be used on the vectorized image, and not the image itself.
The vectorized image is obtained with <code class="docutils literal notranslate"><span class="pre">numpy.ravel</span></code>.
The pixels in a vectorized image are arrange in one dimension.</p>
<p>The histogram of the image is not unique: the number of bins must be specified
Generally, we choose as many bins as gray levels, but this is not mandatory.
The following histograms are obtained with 16, 64 and 256 bins.
Note that the intensities of the image are not between 0 and 255: do you know why (ask the teacher if you cannot get the solution)?</p>
<div class="cell tag_remove-input docutils container">
<div class="cell_output docutils container">
<img alt="../_images/tp1-code_58_0.png" src="../_images/tp1-code_58_0.png" />
<img alt="../_images/tp1-code_58_1.png" src="../_images/tp1-code_58_1.png" />
<img alt="../_images/tp1-code_58_2.png" src="../_images/tp1-code_58_2.png" />
</div>
</div>
<p>One one hand, we easily observe that if the number of bars is low, then the distribution is coarse and some details
(such as the presence of two modes after 0.5) are not visible.
On the other hand, if the bin number is high, then we may have too many details for analysing the result.
In conclusion, the bin number does not necessarily have to be equal to the number of gray levels in the image,
it depends on what we are going to do with the histogram!</p>
</div>
<div class="section" id="segmentation-in-2-classes">
<h3>Segmentation in 2 classes<a class="headerlink" href="#segmentation-in-2-classes" title="Permalink to this headline">¬∂</a></h3>
<p>The presence of several modes in the histogram implies several possible thresholds.
The two images below correspond to the thresholds obtained around the three modes of the histogram.</p>
<div class="cell tag_remove-input docutils container">
<div class="cell_output docutils container">
<img alt="../_images/tp1-code_62_0.png" src="../_images/tp1-code_62_0.png" />
<img alt="../_images/tp1-code_62_1.png" src="../_images/tp1-code_62_1.png" />
</div>
</div>
</div>
<div class="section" id="segmentation-in-3-classes">
<h3>Segmentation in 3 classes<a class="headerlink" href="#segmentation-in-3-classes" title="Permalink to this headline">¬∂</a></h3>
<p>The histogram is a tool that represents the distribution of the intensities in an image.
We used it in this exercise to define a threshold on the image, then segmenting the image into two classes.
Furthermore, we can define several thresholds to obtain a segmentation with more than two classes, as for example in the image below.</p>
<p>How can you get this result?
Besides, which modes in the histogram correspond to the three identified zones?</p>
<div class="cell tag_remove-input docutils container">
<div class="cell_output docutils container">
<img alt="../_images/tp1-code_65_0.png" src="../_images/tp1-code_65_0.png" />
</div>
</div>
<p>There are methods in the literature that are able to determine automatically the value of the threshold(s), such as Otsu‚Äôs method (see chapter <a class="reference internal" href="../segmentation.html#c-segmentation"><span class="std std-ref">Segmentation</span></a>).</p>
</div>
</div>
<div class="section" id="contrast-enhancement">
<h2>Contrast enhancement<a class="headerlink" href="#contrast-enhancement" title="Permalink to this headline">¬∂</a></h2>
<div class="section" id="objective">
<h3>Objective<a class="headerlink" href="#objective" title="Permalink to this headline">¬∂</a></h3>
<ul class="simple">
<li><p>Apply histogram transformations</p></li>
</ul>
<div class="cell tag_remove-input docutils container">
</div>
<p>The image forest.png has been used in several publications dealing with the problem of removing fog from an image (<em>dehazing</em>).</p>
<ul class="simple">
<li><p>K. He, J. Sun, X. Tang,
¬´ Single image haze removal using dark channel prior ¬ª,
<em>IEEE Transactions on Pattern Analysis and Machine Intelligence</em>, 2011.</p></li>
<li><p>D. Berman, T. Treibitz, S. Avidan,
¬´ Non-Local Image Dehazing ¬ª,
CVPR 2016, <a class="reference external" href="http://www.eng.tau.ac.il/~berman/NonLocalDehazing/">website</a>.</p></li>
</ul>
<div class="cell tag_remove-input docutils container">
<div class="cell_output docutils container">
<img alt="../_images/tp1-code_70_0.png" src="../_images/tp1-code_70_0.png" />
</div>
</div>
<div class="cell tag_remove-input docutils container">
<div class="cell_output docutils container">
<img alt="../_images/tp1-code_71_0.png" src="../_images/tp1-code_71_0.png" />
</div>
</div>
<p>The original image and its histogram are given above.
The histogram is mono-modal (it has only one maximum) and uses the full range of intensities quite well.
However, there are few pixels with low or high intensities, explaining the lack of contrast in the image.</p>
<p>Thus, what is the effect on this image of a histogram spread?</p>
</div>
<div class="section" id="multiplication-by-a-real">
<h3>Multiplication by a real<a class="headerlink" href="#multiplication-by-a-real" title="Permalink to this headline">¬∂</a></h3>
<p>By multiplying the intensities by a coefficient (here: 1.3), the histogram is dilated: low intensities stay weak while high intensities increase.
Therefore the image is lighter, but the dark areas are little changed.
As a result, the contrast is better.
Note that the two images are represented with intensities between 0 (<code class="docutils literal notranslate"><span class="pre">vmin</span></code>) and 1 (<code class="docutils literal notranslate"> <span class="pre">vmax</span></code>).</p>
<p>Is this observation still valid for other values of the multiplicative coefficient?</p>
<div class="cell tag_remove-input docutils container">
<div class="cell_output docutils container">
<img alt="../_images/tp1-code_75_0.png" src="../_images/tp1-code_75_0.png" />
</div>
</div>
</div>
<div class="section" id="histogram-equalization">
<h3>Histogram equalization<a class="headerlink" href="#histogram-equalization" title="Permalink to this headline">¬∂</a></h3>
<p>The histogram equalization gives the result below.
The image is more contrasted than previously: this is due to the fact that the histogram of the transformed image is (almost) flat.</p>
<div class="cell tag_remove-input docutils container">
<div class="cell_output docutils container">
<img alt="../_images/tp1-code_78_0.png" src="../_images/tp1-code_78_0.png" />
</div>
</div>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./labs"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        </div>
    </div>
    
    
    <div class='prev-next-bottom'>
        
    <a class='left-prev' id="prev-link" href="../tp1.html" title="previous page">07/10/2020</a>
    <a class='right-next' id="next-link" href="../python.html" title="next page">Installing and Using Python</a>

    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Vincent Mazet (University of Strasbourg, France)<br/>
        
            &copy; Copyright 2020.<br/>
          <div class="extra_footer">
            Fundamental Tools for Image Processing &mdash; Vincent Mazet (Universit√© de Strasbourg), 2020 &mdash; <a href="license.html">CC BY-NC 4.0</a>.
          </div>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>

    <script src="../_static/js/index.js"></script>
    
  </body>
</html>